---
import jay from "@assets/jay.jpg";
import darrek from "@assets/darrek.jpg";
import jacp from "@assets/jacp.jpg";

const testimonials = [
  {
    img_src: jay,
    quote: `
    <h3 class="h5">NEVER GIVE UP AND ALWAYS UPSKILL</h3>

    <p>Mohd Nasir Ja’apar was retrenched last year from an oil and gas company, where he had been a senior quality engineer. In pre-Covid times, he used to be approached by recruiters all the time and was confident that he would always find a job. However, after four months and 60 applications, he made no headway in his job search. But he never lost hope. Determined to gain new skills, he underwent a 6-month professional conversion programme for advanced manufacturing engineers, and managed to find a job. Today, he holds the title of quality manager in the manufacturing and 3D sector.</p>`,
    name: "Mohd Nasir Ja’apar, 48",
  },
  {
    img_src: darrek,
    quote: `
    <h3 class="h5">A SHOT AT A NEW CAREER</h3>

    <p>After 22 years as a police officer, Darrek Lau needed a change. He left his job, looking to update his skills and make a mid-career switch to an IT-related company. He took up an eight-month SGUnited (SGUS) Up-Skill Software Development Programme.</p>

    <p>The course, which was developed in partnership with Microsoft, equipped him with skills needed for the IT industry. Along with his previous diploma in Forensics, he hopes that his new skill set will prepare him for a different type of problem solving at his current role as a software developer.</p>`,
    name: "Darrek Lau, 43",
  },
  {
    img_src: jacp,
    quote: `
    <h3 class="h5">TAKING ADVANTAGE OF OPPORTUNITIES</h3>

    <p>While many viewed the pandemic in a less than positive light, Jacp, on the other hand, saw an opportunity. Many companies were outsourcing their marketing needs due to budget constraints, and she saw a gap that she could fill. Previously a sales director at an online publishing platform, she was determined to take advantage of this opportunity by deepening her skills. As a result, Jacp took up a year-long course in Digital Marketing and Applied Management, under the SGUnited Skills Programme. Helmed by industry veterans, this course has helped her career tremendously, equipping her with the skills—and even courage—to launch her own digital marketing company.</p>`,
    name: "Jacp Fong, 42",
  },
];

const { carousel_id = "carousel_testimonial" } = Astro.props;
---

<div id={carousel_id} class="carousel slide " data-bs-ride="carousel">
  <div class="carousel-indicators">
    {
      testimonials.map((item, index) => (
        <button
          type="button"
          data-bs-target={`#${carousel_id}`}
          data-bs-slide-to={index}
          class={index == 0 ? "active" : ""}
          aria-current="true"
          aria-label={`Slide ${index}`}
        />
      ))
    }
  </div>

  <div class="carousel-inner text-center">
    {
      testimonials.map((item, index) => (
        <div
          class={`carousel-item ${index == 0 ? "active" : ""}`}
          data-bs-interval="12000"
        >
          <figure class="testimonial col-md-8 mx-auto">
            <blockquote
              class="blockquote text-opacity-25"
              set:html={item.quote}
            ></blockquote>
            <img
              src={item.img_src}
              class="rounded-circle mb-2"
              alt={item.name}
              width="120"
            />
            <figcaption class="blockquote-footer mt-0">{item.name}</figcaption>
          </figure>
        </div>
      ))
    }
  </div>

  <button
    class="carousel-control-prev"
    type="button"
    data-bs-target={`#${carousel_id}`}
    data-bs-slide="prev"
  >
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button
    class="carousel-control-next"
    type="button"
    data-bs-target={`#${carousel_id}`}
    data-bs-slide="next"
  >
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
<style lang="scss">
  @import "bootstrap/scss/_carousel.scss";
  .carousel-indicators {
    transform: translateY(200%);

    [data-bs-target] {
      background-color: $primary;
    }
  }

  .carousel-control-next,
  .carousel-control-prev {
    background-color: $primary;
    top: 50%;
    bottom: auto;
    width: auto;
    padding: 1rem;
    transform: translateY(-50%);

    @include media-breakpoint-down(md) {
      display: none;
    }
  }

  .carousel-control-prev-icon,
  .carousel-control-next-icon {
    width: 1.5rem;
    height: 1.5rem;
  }

  .blockquote-footer::before {
    content: "";
  }
</style>
